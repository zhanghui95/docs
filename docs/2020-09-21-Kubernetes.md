# Kubernetes

## 1. k8s概念和架构

### 1.1 概述与特征

```
- 概述
* k8s是谷歌2014年开源的容器化集群管理系统
* 可以使用k8s进行容器化应用部署
* 利于应用扩展
* 部署容器化应用更加简洁和高校

- 特征
* 自动装箱
 基于容器对应用运行环境的资源配置要求自动部署应用容器
* 自我修复
 当容器失败时，会对容器进行重启
 当所部署的Node节点有问题时，会对容器进行重新部署和重新调度
* 水平扩展
 通过简单的命令、用户UI界面或者基于CPU等资源使用情况，对应用容器进行规模扩大或剪裁
* 服务发现
 用户不需要额外的服务发现机制，就能够基于k8s自身能力实现服务发现和负载均衡
* 滚动更新
 可以根据应用的变化，对容器运行的应用进行一次性或批量式更新
* 版本回退
 可以根据应用部署情况，对容器运行的应用进行历史版本即时回退
* 密钥和配置管理
 在不需要重新构建镜像的情况下，可以部署和更新密钥和应用配置，类似热部署
* 存储编排
 自动实现存储系统挂载及应用，特别对有状态应用实现数据持久化非常重要，存储系统可以来自于本地目录、网络存储(NFS、Gluster、Ceph等)、公共云存储服务
* 批处理
 提供一次性任务、定时任务满足批量数据处理和分析的场景
```

### 1.2 集群架构组件

```
* Master主控节点和Node工作节点

Master node
 > API server：集群统一入口，以RESTful方式，交给etcd存储
 > Scheduler：节点调度，选择node节点应用部署
 > Controller-Manager：集中的处理管理，一个资源对应一个控制器
 > Etcd：存储，用于保存集群相关的数据
 
Worker node
 > Kubelet：相当于master指派到node的代表，管理节点的生命周期等
 > Kube-Proxy：提供网络代理，负载均衡等操作
```

### 1.3 核心概念

```
* pod
 > 最小部署单元
 > 一组容器的集合
 > 共享网络
 > 生命周期是短暂的

* controller
 > 确保预期的pod副本数量
 > 无状态应用部署
 > 有状态应用部署

* service
 > 定义一组pod的访问规则
```

## 2. k8s搭建与集群





## 3. k8s核心概念



## 4. 搭建集群监控平台



## 5. 搭建高可用集群



## 6. 集群部署项目



















